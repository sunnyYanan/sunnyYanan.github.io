<!DOCTYPE html>
<html>

  <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>react学习</title>

	<link rel="shortcut icon" href="/styles/images/favicon.jpg">
	<link rel="icon" href="/styles/images/favicon.jpg">

	<link rel="stylesheet" href="/styles/css/index.css">
	<link rel="stylesheet" href="/styles/css/fontawesome/css/font-awesome.min.css">
	<link rel="canonical" href="/2017/02/15/react-stuty/">
	<link rel="alternate" type="application/rss+xml" title="Less Or More" href="/feed.xml">
	
	<meta name="description" content="物必自腐，然后虫生">

	<script src="/styles/js/jquery.min.js"></script>
	<!--[if lt IE 9]>
    	<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  	<![endif]-->
  	<script>
		var _hmt = _hmt || [];
		(function() {
		  var hm = document.createElement("script");
		  hm.src = "//hm.baidu.com/hm.js?94be4b0f9fc5d94cc0d0415ea6761ae9";
		  var s = document.getElementsByTagName("script")[0]; 
		  s.parentNode.insertBefore(hm, s);
		})();
	</script>
  	<style type="text/css">
	  	.docs-content{
	  		margin-bottom: 10px;
	  	}
  	</style>
</head>

  <body class="index">

    <header class="navbar navbar-inverse navbar-fixed-top docs-nav" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/" class="navbar-brand">
        <img src="/styles/images/logo.png">
      </a>
    </div>
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
      <ul class="nav navbar-nav">    
        <li>
          <a href="/">Home</a>
        </li>
        <li>
          <a href="/categories/">文章分类</a>
        </li>
        <li>
          <a href="/tag">标签分类</a>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">关于<b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a rel="nofollow" target="_blank" href="https://github.com/sunnyYanan">Github</a></li>
            <li><a rel="nofollow" target="_blank" href="https://sunnyyanan.github.io">关于作者</a></li>
            <li><a rel="nofollow" href="/books">我的书单</a></li>
            <li><a rel="nofollow" href="/reference">推荐博客</a></li>
            <li><a href="/feed.xml">RSS订阅</a></li>
            <li class="divider"></li>
            <li><a rel="nofollow" target="_blank" href="https://github.com/luoyan35714/LessOrMore.git">源项目</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </div>
</header>
    <div class="docs-header" id="content">
  <div class="container">
  	
  		<!--
		    <h1>react学习</h1>
		    <p>Post on Feb 15, 2017 by <a href="/about">wendy zhang</a></p>
		-->
		    <h1>It's our wits that make us men.</h1>
    
  </div>
</div>
    
      
<div class="banner">
  <div class="container">
  	
    	<a href="/categories/#前端开发-ref">前端开发</a>	/
    	<a href="/tag/#react-ref">react</a>
    
  </div>
</div>

    

    <div class="container docs-container">
  <div class="row">
    <div class="col-md-3">
      <div class="sidebar hidden-print" role="complementary">
        <div id="navigation">
  <h1>目录</h1>
  <ul class="nav sidenav">
<!--
    
      
      
      
      

      
        <li><a href="#year_2017">2017</a>
          <ul class="nav">
            <li><a href="#month_2017_April">April</a></li>
      

      
            
          
              <li><a href="#month_2017_March">March</a></li>
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2017_February">February</a></li>
          
        
      
    
      
      
      
      

      

      
        
            </ul>
          </li>
          <li><a href="#year_2016">2016</a>
            <ul class="nav">
              <li><a href="#month_2016_November">November</a></li>
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
        
      
    
      
      
      
      

      

      
            
          
              <li><a href="#month_2016_August">August</a></li>
          
        
      
    
      
      
      
      

      

      
            </ul>
          </li>
      
    
-->
  </ul>
</div> 
      </div>
    </div>
    <div class="col-md-9" role="main">
      <div class="panel docs-content">
        <div class="wrapper">
            <header class="post-header">
              <h1 class="post-title">react学习</h1>
              <!--
                <p class="post-meta">Feb 15, 2017</p>
              -->
              <div class="meta">Posted on <span class="postdate">Feb 15, 2017</span> By <a target="_blank" href="http://localhost:4000">wendy zhang</a></div>
              <br />
            </header>
            <article class="post-content">
              <ul id="markdown-toc">
  <li><a href="#section" id="markdown-toc-section">遇到的问题</a></li>
  <li><a href="#section-1" id="markdown-toc-section-1">学习过程</a></li>
  <li><a href="#section-2" id="markdown-toc-section-2">知识点</a>    <ul>
      <li><a href="#converting-a-function-to-a-class" id="markdown-toc-converting-a-function-to-a-class"><strong>Converting a function to a class</strong></a></li>
      <li><a href="#lifecycle-control" id="markdown-toc-lifecycle-control">lifecycle control</a></li>
      <li><a href="#handling-events-dom-vs-react" id="markdown-toc-handling-events-dom-vs-react">handling events: dom vs. react</a></li>
    </ul>
  </li>
</ul>

<h2 id="section">遇到的问题</h2>
<ul>
  <li>npm install -g create-react-app 遇到的问题：Npm Please try using this command again as root/administrator
    <ul>
      <li>解决方案：<code class="highlighter-rouge">sudo chown -R $USER /usr/local</code></li>
    </ul>
  </li>
  <li></li>
</ul>

<h2 id="section-1">学习过程</h2>
<ul>
  <li>学习Create React App－－https://github.com/facebookincubator/create-react-app#getting-started</li>
</ul>

<h2 id="section-2">知识点</h2>
<ul>
  <li>a modern build pipeline typically consisits of: a package manager, such as yarn or npm, to manager third-party packages;a bundler, sunch as webpack or browserify, to bundle code into small packages to optimize load time; a compiler such as babel.</li>
  <li>building blocks of React apps: elements and components</li>
  <li>null—&gt;non-value; undefined—&gt;uninitialized value <strong>[js内容]</strong></li>
  <li>component
    <ul>
      <li>one write style</li>
    </ul>

    <p><code class="highlighter-rouge">
function test(props) {
return &lt;p&gt;hello,{props.name}&lt;/p&gt;
}
 </code></p>

    <ul>
      <li>second write style(ES6)</li>
    </ul>

    <p><code class="highlighter-rouge">
class test extends React.Component {
  render(){
return &lt;p&gt;hello, {this.props.name}&lt;/p&gt;
  }
}
 </code></p>
  </li>
  <li>components defined as classes have some additional features –&gt; local state is a feature only available to classes.</li>
  <li>All React components must act like pure functions with respect to their props–pure functions means that they do not attempt to change their inputs, and always return the same result for the same inputs.</li>
  <li>State is similar to props, but it is private and fully controlled by the component.—that means you should always use class rather than function because only class can use state</li>
</ul>

<h3 id="converting-a-function-to-a-class"><strong>Converting a function to a class</strong></h3>

<p>1\Create an ES6 class with the same name that extends React.Component.</p>

<p>2\Add a single empty method to it called render().</p>

<p>3\Move the body of the function into the render() method.</p>

<p>4\Replace props with this.props in the render() body.</p>

<p>5\Delete the remaining empty function declaration.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>class Clock extends React.Component {
  render() {
    return (
      &lt;div&gt;
        &lt;h1&gt;Hello, world!&lt;/h1&gt;
        &lt;h2&gt;It is {this.props.date.toLocaleTimeString()}.&lt;/h2&gt;
      &lt;/div&gt;
    );
  }
}
</code></pre>
</div>

<h3 id="lifecycle-control">lifecycle control</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>- like the code, ReactDOM.reader first run, then, -&gt;the Clock constructor-&gt;the Clock render function to draw the dom-&gt;after that, componentDidMount set a timer to call tick every minite, if Clock component is removed from DOM, componentWillUnmout called.
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>class Clock extends React.Component {
  constructor(props) {
    super(props);
    this.state = {date: new Date()};
  }

  componentDidMount() {
    this.timerID = setInterval(
      () =&gt; this.tick(),
      1000
    );
  }

  componentWillUnmount() {
    clearInterval(this.timerID);
  }

  tick() {
    this.setState({
      date: new Date()
    });
  }

  render() {
    return (
      &lt;div&gt;
        &lt;h1&gt;Hello, world!&lt;/h1&gt;
        &lt;h2&gt;It is {this.state.date.toLocaleTimeString()}.&lt;/h2&gt;
      &lt;/div&gt;
    );
  }
}

ReactDOM.render(
  &lt;Clock /&gt;,
  document.getElementById('root')
);
</code></pre>
</div>

<ul>
  <li>this.props and this.state may be updated asynchronously, so you cannot rely on their values to calcute the next state</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>// Wrong
this.setState({
  counter: this.state.counter + this.props.increment,
});
</code></pre>
</div>

<p><code class="highlighter-rouge">to fix this</code>  use a second form of setState() that accepts a function rather than an object</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// Correct--ARROW FUNCTION
this.setState((prevState, props) =&gt; ({
  counter: prevState.counter + props.increment
}));
</code></pre>
</div>
<p><strong>OR</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>// Correct
this.setState(function(prevState, props) {
  return {
    counter: prevState.counter + props.increment
  };
});
</code></pre>
</div>

<h3 id="handling-events-dom-vs-react">handling events: dom vs. react</h3>

<ul>
  <li>
    <p>lowercase vs. camelCase</p>
  </li>
  <li>
    <p>pass function as a string vs. as a event handler</p>
  </li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;button onclick="activateLasers()"&gt;
  Activate Lasers
&lt;/button&gt;
VS.
&lt;button onClick={activateLasers}&gt;
  Activate Lasers
&lt;/button&gt;
</code></pre>
</div>

<ul>
  <li>return false to prevent default behavior vs.  call preventDefault explicitly</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;a href="#" onclick="console.log('The link was clicked.'); return false"&gt;
  Click me
&lt;/a&gt;

vs.

function ActionLink() {
  function handleClick(e) {
    e.preventDefault();
    console.log('The link was clicked.');
  }

  return (
    &lt;a href="#" onClick={handleClick}&gt;
      Click me
    &lt;/a&gt;
  );
}

</code></pre>
</div>

<ul>
  <li>in JavaScript, true &amp;&amp; expression always evaluates to expression, and false &amp;&amp; expression always evaluates to false. <strong>[JS内容]</strong></li>
  <li>don’t recommend using indexes for keys if the items can reorder, as that whould be slow</li>
  <li>A good rule of thumb is that elements inside the map() call need keys.</li>
</ul>

            </article>
        </div>
      </div>
      <div class="panel docs-content">
        <article class="post-content">
          <div class="wrapper">
            


  <div class="ds-thread" data-thread-key="/2017/02/15/react-stuty/" data-title="react学习" data-url="http://localhost:4000/2017/02/15/react-stuty/"></div>

<script type="text/javascript">
var duoshuoQuery = {short_name:"luoyan35714"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
</script>


 
          </div>
        </article>
      </div>
    </div>
  </div>
</div>

    
    <footer class="footer" role="contentinfo">
	<div class="container">
		<p class="copyright">Copyright &copy; 2014-2017 <a href="https://sunnyyanan.github.io"><code>wendy zhang</code></a>.</p>
		<p>Powered by <a href="http://jekyllrb.com">Jekyll</a>, theme from <a href="http://lesscss.cn/">Less</a></p>
	</div>
</footer>

<script src="/styles/js/jquery.min.js"></script>
<script src="/styles/js/bootstrap.min.js"></script>
<script src="/styles/js/holder.min.js"></script>
<script src="/styles/js/application.js"></script>
<script src="/styles/js/lessismore.js"></script>

  </body>
</html>
